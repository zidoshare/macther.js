(function(){function t(t){var e=new y(0);this.lastState=1;for(var r=0;r<t.length;r++){for(var n=t[r],o=n.split(""),i=e,h=0;h<o.length;h++){var s=o[h],a=new y(this.lastState++);i.next(s,a),i=a}i.finish=!0,i.mode=n}var f=new Array(this.lastState),d=[],u=e.nextChars();for(r=0;r<u.length;r++){var c=e.next(u[r]);f[c.state]=e,d.push(c)}for(;0!=d.length;){var l=d.shift();for(u=l.nextChars(),h=0;h<u.length;h++){var p=l.next(u[h]);for(i=f[l.state];i!=e&&i.next(u[h]);)i=f[i.state];i.next[u[h]]?f[p.state]=i.next[u[h]]:f[p.state]=e,d.push(p)}}this.root=e,this.failure=f}function y(t){this.state=t,this.finish=!1}function e(t){for(var e=t.length,r=new Array(e),n=r[0]=-1,o=1;o<e;o++){for(;-1<n&&t.charAt(n+1)!=t.charAt(o);)n=r[n];t.charAt(n+1)==t.charAt(o)&&n++,r[o]=n}this.next=r,this.keyword=t}t.prototype.findFirst=function(t){for(var e=this.root,r=t.split(""),n=0;n<r.length;n++){var o=e.next(r[n]);if(null!=o)e=o;else{if(0==n||e==this.root)continue;--n,e=this.failure[e.state]}if(e.finish)return{mode:e.mode,start:n-e.mode.length+1}}},y.prototype.next=function(t,e){if(this.nodes||(this.nodes={}),!e)return this.nodes[t];this.nodes[t]=e},y.prototype.nextChars=function(){var t=[];for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&t.push(e);return t},e.prototype.findFirst=function(t){for(var e=-1,r=t.length,n=this.keyword.length,o=0;o<r;o++){for(;-1<e&&this.keyword.charAt(e+1)!=t.charAt(o);)e=this.next[e];if(this.keyword.charAt(e+1)==t.charAt(o)&&e++,e==n-1)return o-n+1}return-1},e.prototype.findAll=function(t){for(var e=[],r=-1,n=t.length,o=this.keyword.length,i=1;i<n;i++){for(;-1<r&&this.keyword.charAt(r+1)!=t.charAt(i);)r=this.next[r];this.keyword.charAt(r+1)==t.charAt(i)&&r++,r==o-1&&(e.push(i-o+1),r=-1)}return e};var r={kmp:e,ac:t};"undefined"!=typeof module&&"object"==typeof exports?module.exports=r:"function"==typeof define&&(define.amd||define.cmd)?define(function(){return r}):this.matcher=r}).call(function(){return this||("undefined"!=typeof window?window:global)});